{"version":3,"sources":["components/Dashboard/Dashboard.tsx","components/Login/Login.tsx","components/NotFound/NotFound.tsx","components/App/routes.tsx","components/Auth/Oauth.tsx","components/App/App.tsx","index.tsx"],"names":["Dashboard","console","log","this","props","onClick","goBack","className","style","display","boards","map","item","width","height","border","marginRight","name","React","Login","process","REACT_APP_API_KEY","REACT_APP_APP_NAME","REACT_APP_REDIRECT_URL","REACT_APP_SCOPE","requestUrl","href","NotFound","routes","path","render","title","exact","isHidden","to","Oauth","hash","location","onSetToken","onSetBoards","token","split","fetch","then","response","json","data","App","state","setState","route","i","setToken","bind","setBoards","renderHeader","renderContent","ReactDOM","document","querySelector"],"mappings":"+LAQaA,EAAb,4JACE,cADF,oBAIE,WAEE,OADAC,QAAQC,IAAIC,KAAKC,OAEf,sBAAKC,QAASF,KAAKG,OAAnB,UACE,6CACA,qBAAKC,UAAU,iBAAiBC,MAAO,CAAEC,QAAS,QAAlD,SACGN,KAAKC,MAAMM,OAAOC,KAAI,SAACC,GACtB,OACE,qBACEL,UAAU,QACVC,MAAO,CACLK,MAAO,QACPC,OAAQ,QACRC,OAAQ,kBACRC,YAAa,QANjB,SASGJ,EAAKK,mBArBtB,GAA+BC,aCNlBC,EAAb,4JACE,WACE,MAKIC,iUAJFC,EADF,EACEA,kBACAC,EAFF,EAEEA,mBACAC,EAHF,EAGEA,uBACAC,EAJF,EAIEA,gBAGIC,EAAU,oDAAgDF,EAAhD,iCAA+FD,EAA/F,kBAA2HE,EAA3H,oCAAsKH,GAEtL,OACE,8BACE,mBAAGK,KAAMD,EAAT,6CAbR,GAA2BP,aCCdS,EAAwD,SACnEvB,GAEA,OAAO,6CCQIwB,EAA2B,CACtC,CACEC,KAAM,SACNC,OAAQ,SAAC1B,GAAD,OAAgB,cAAC,EAAD,eAAWA,KACnC2B,MAAO,QAET,CACEF,KAAM,aACNC,OAAQ,SAAC1B,GAAD,OAAgB,cAAC,EAAD,eAAeA,KACvC2B,MAAO,aAET,CACEF,KAAM,IACNG,OAAO,EACPC,UAAU,EACVH,OAAQ,SAAC1B,GAAD,OAAgB,cAAC,IAAD,CAAU8B,GAAG,aAEvC,CACEL,KAAM,OACNI,UAAU,EACVH,OAAQ,SAAC1B,GAAD,OAA+B,cAAC,EAAD,eAAcA,OC1B5C+B,EAAuC,SAAC,GAIlC,IAHLC,EAGI,EAHhBC,SAAYD,KACZE,EAEgB,EAFhBA,WACAC,EACgB,EADhBA,YAEMC,EAAQJ,EAAKK,MAAM,KAAK,GAW9B,OAVAH,EAAWE,GAEXE,MAAM,kEAAD,OAC+DtB,mCAD/D,kBACsGoB,IAExGG,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACLP,EAAYO,MAGT,cAAC,IAAD,CAAUZ,GAAI,gBCMVa,EAAb,4MACSC,MAAQ,CACbR,MAAO,GACP9B,OAAQ,IAHZ,8CAME,SAAiB8B,GACfrC,KAAK8C,SAAS,CAAET,YAPpB,uBAUE,SAAkB9B,GAChBP,KAAK8C,SAAS,CAAEvC,aAXpB,wBAcE,WACE,QAASP,KAAK6C,MAAMR,QAfxB,0BAkBE,WAGE,OAFAvC,QAAQC,IAAIC,KAAK6C,OAGf,iCACGpB,EAAOjB,KAAI,SAACuC,EAAkBC,GAAnB,OACVD,EAAMjB,SAAW,KACf,cAAC,IAAD,CAAcC,GAAIgB,EAAMrB,KAAxB,SACGqB,EAAMnB,OADEoB,UAzBvB,2BAkCE,WAAyB,IAAD,OACtB,OACE,+BACE,eAAC,IAAD,WACGvB,EAAOjB,KAAI,SAACuC,EAAYC,GAAb,OACV,cAAC,IAAD,CAEEnB,MAAOkB,EAAMlB,MACbH,KAAMqB,EAAMrB,KACZC,OAAQ,SAAC1B,GAAD,OACN8C,EAAMpB,OAAN,2BACK1B,GACA,CAAEM,OAAO,YAAK,EAAKsC,MAAMtC,aAN3ByC,MAWT,cAAC,IAAD,CACEtB,KAAK,SACLC,OAAQ,SAAC1B,GAAD,OACN,cAAC,EAAD,2BACMA,GADN,IAEEkC,WAAY,EAAKc,SAASC,KAAK,GAC/Bd,YAAa,EAAKe,UAAUD,KAAK,SAIvC,cAAC,IAAD,CAAUnB,GAAG,gBA7DvB,oBAmEE,WACE,OACE,gCACG/B,KAAKoD,eACLpD,KAAKqD,uBAvEd,GAAyBtC,aCzBzBuC,SACE,cAAC,IAAD,UACE,cAAC,EAAD,MAEFC,SAASC,cAAc,Y","file":"static/js/main.67022617.chunk.js","sourcesContent":["import * as React from \"react\";\r\nimport { RouteChildrenProps } from \"react-router\";\r\n\r\n// interface DashboardProps extends RouteChildrenProps {\r\n//   hello?: string;\r\n//   token?: string;\r\n// }\r\n\r\nexport class Dashboard extends React.Component<any> {\r\n  goBack() {\r\n    // this.props.history.goBack();\r\n  }\r\n  render() {\r\n    console.log(this.props);\r\n    return (\r\n      <div onClick={this.goBack}>\r\n        <h2> Dashboards</h2>\r\n        <div className=\"boards-wrapper\" style={{ display: \"flex\" }}>\r\n          {this.props.boards.map((item: any) => {\r\n            return (\r\n              <div\r\n                className=\"board\"\r\n                style={{\r\n                  width: \"200px\",\r\n                  height: \"200px\",\r\n                  border: \"1px solid black\",\r\n                  marginRight: \"20px\",\r\n                }}\r\n              >\r\n                {item.name}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nexport class Login extends React.Component {\r\n  render() {\r\n    const {\r\n      REACT_APP_API_KEY,\r\n      REACT_APP_APP_NAME,\r\n      REACT_APP_REDIRECT_URL,\r\n      REACT_APP_SCOPE,\r\n    } = process.env;\r\n\r\n    const requestUrl = `https://trello.com/1/authorize?return_url=${REACT_APP_REDIRECT_URL}&expiration=1day&name=${REACT_APP_APP_NAME}&scope=${REACT_APP_SCOPE}&response_type=token&key=${REACT_APP_API_KEY}`;\r\n\r\n    return (\r\n      <div>\r\n        <a href={requestUrl}>Login with trello account</a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport { RouteChildrenProps } from \"react-router\";\r\n\r\nexport const NotFound: React.FunctionComponent<RouteChildrenProps> = (\r\n  props: RouteChildrenProps\r\n) => {\r\n  return <h2>Not Found!</h2>;\r\n};\r\n","import * as React from \"react\";\r\nimport { Redirect, RouteChildrenProps } from \"react-router\";\r\nimport { Dashboard } from \"../Dashboard/Dashboard\";\r\nimport { Login } from \"../Login/Login\";\r\nimport { NotFound } from \"../NotFound/NotFound\";\r\n\r\nexport interface AppRoutes {\r\n  path: string;\r\n  render: (props: any) => any;\r\n  title?: string;\r\n  exact?: boolean;\r\n  isHidden?: boolean;\r\n}\r\n\r\nexport const routes: Array<AppRoutes> = [\r\n  {\r\n    path: \"/login\",\r\n    render: (props: any) => <Login {...props} />,\r\n    title: \"Home\",\r\n  },\r\n  {\r\n    path: \"/dashboard\",\r\n    render: (props: any) => <Dashboard {...props} />,\r\n    title: \"Dashboard\",\r\n  },\r\n  {\r\n    path: \"/\",\r\n    exact: true,\r\n    isHidden: true,\r\n    render: (props: any) => <Redirect to=\"/login\" />,\r\n  },\r\n  {\r\n    path: \"/404\",\r\n    isHidden: true,\r\n    render: (props: RouteChildrenProps) => <NotFound {...props} />,\r\n  },\r\n];\r\n","import { FunctionComponent } from \"react\";\r\nimport { Redirect, RouteChildrenProps } from \"react-router\";\r\n\r\ninterface OauthProps extends RouteChildrenProps {\r\n  onSetToken: (token: string) => void;\r\n  onSetBoards: (boards: any) => void;\r\n}\r\n\r\nexport const Oauth: FunctionComponent<OauthProps> = ({\r\n  location: { hash },\r\n  onSetToken,\r\n  onSetBoards,\r\n}: OauthProps) => {\r\n  const token = hash.split(\"=\")[1];\r\n  onSetToken(token);\r\n\r\n  fetch(\r\n    `https://api.trello.com/1/members/me/boards?fields=name,url&key=${process.env.REACT_APP_API_KEY}&token=${token}`\r\n  )\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      onSetBoards(data);\r\n    });\r\n\r\n  return <Redirect to={\"/dashboard\"} />;\r\n};\r\n","import * as React from \"react\";\r\nimport { setToLocalStorage, getFromLocalStorage } from \"../../utils\";\r\nimport {\r\n  Link,\r\n  Redirect,\r\n  Route,\r\n  Switch,\r\n  RouteComponentProps,\r\n  RouteChildrenProps,\r\n} from \"react-router-dom\";\r\nimport { Dashboard } from \"../Dashboard/Dashboard\";\r\nimport { Login } from \"../Login/Login\";\r\nimport { routes, AppRoutes } from \"./routes\";\r\nimport { Oauth } from \"../Auth/Oauth\";\r\n\r\nconst TOKEN_STRORAGE_KEY = \"TOKEN\";\r\n\r\ninterface Board {\r\n  id: string;\r\n  name: string;\r\n  url: string;\r\n  pinned?: boolean;\r\n  desc?: string;\r\n}\r\n\r\ninterface AppState {\r\n  token: string;\r\n  boards: Array<Board>;\r\n}\r\n\r\nexport class App extends React.Component<any, AppState> {\r\n  public state = {\r\n    token: \"\",\r\n    boards: [],\r\n  };\r\n\r\n  private setToken(token: string) {\r\n    this.setState({ token });\r\n  }\r\n\r\n  private setBoards(boards: Array<Board>) {\r\n    this.setState({ boards });\r\n  }\r\n\r\n  private isLoggedIn() {\r\n    return !!this.state.token;\r\n  }\r\n\r\n  private renderHeader() {\r\n    console.log(this.state);\r\n\r\n    return (\r\n      <header>\r\n        {routes.map((route: AppRoutes, i: number) =>\r\n          route.isHidden ? null : (\r\n            <Link key={i} to={route.path}>\r\n              {route.title}\r\n            </Link>\r\n          )\r\n        )}\r\n      </header>\r\n    );\r\n  }\r\n\r\n  private renderContent() {\r\n    return (\r\n      <main>\r\n        <Switch>\r\n          {routes.map((route: any, i: number) => (\r\n            <Route\r\n              key={i}\r\n              exact={route.exact}\r\n              path={route.path}\r\n              render={(props) =>\r\n                route.render({\r\n                  ...props,\r\n                  ...{ boards: [...this.state.boards] },\r\n                })\r\n              }\r\n            />\r\n          ))}\r\n          <Route\r\n            path=\"/oauth\"\r\n            render={(props: RouteChildrenProps) => (\r\n              <Oauth\r\n                {...props}\r\n                onSetToken={this.setToken.bind(this)}\r\n                onSetBoards={this.setBoards.bind(this)}\r\n              />\r\n            )}\r\n          />\r\n          <Redirect to=\"/404\" />\r\n        </Switch>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        {this.renderHeader()}\r\n        {this.renderContent()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { App } from \"./components/App/App\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}